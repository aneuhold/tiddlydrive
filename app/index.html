<!DOCTYPE html>
<html>
  <head>
  <title id="top-title">Tiddly Drive 2</title>
    <meta charset='utf-8' />
  <link type="text/css" rel="stylesheet" href="./rec/index.css"/>
  <!-- Primary application styles come from legacy Materialize + custom CSS. Consider gradual migration away from jQuery/Materialize later. -->
    <link rel="stylesheet" href="./lib/materialize.min.css">
    <link rel="stylesheet" href="./lib/icon.css">
    <link rel="stylesheet" href="./lib/btcdonate.css">
    <script type="text/javascript" src="./lib/btcdonate.js"></script>
    <script src="./lib/jquery.min.js"></script>
    <script src="./lib/jquery.qrcode.min.js"></script>
    <script src="./lib/materialize.min.js"></script>
  <!-- Legacy script removed: using Google Identity Services now -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <!-- Main bundled ES module (built by esbuild at app/dist/main.js) -->
  <script type="module" src="./dist/main.js" defer></script>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://accounts.google.com 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https://img.shields.io https://www.payfast.co.za; connect-src https://www.googleapis.com; frame-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self' https://www.payfast.co.za;">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <template id="news_row">

    <div class="row">
      <div class="col s12">
					<div class="card horizontal">
						<span class="card-title"></span>
						<div class="card-stacked">
							<div class="card-content">
							</div>
							<div class="card-action">
								<a target="_blank" class="card-link">Go to post</a>
							</div>
						</div>
					</div>
				</div>
      </div>
    </div>

  </template>
  </head>
  <body>
    <div class="modal-content grey-text text-darken-2" id="error-msg" style="display:none">
      <h1>There was an error downloading the file</h1>
    </div>
    <div class="modal-content grey-text text-darken-3" id="nofile-msg" style="display:none">
      <h3>Open a file from <a href="https://drive.google.com" rel="noopener noreferrer">Google Drive <img src="./img/drive-logo.png" alt="Drive"></a> by adding the Tiddly Drive 2 integration.</h3>
      <p>Installation & help: <a href="https://tiddlydrive.tonyneuhold.com" target="_blank" rel="noopener noreferrer">Project Site</a></p>
    </div>
    <div class="progress" id="loader">
        <div class="indeterminate"></div>
    </div>
  <iframe id="content" src="about:blank" title="TiddlyWiki Document" style="width:100%;border:0;min-height:80vh"></iframe>
    <div class="fixed-action-btn">
      <a id="open-settings" class="btn-floating btn-large modal-trigger waves-effect waves-light grey" href="#settings"><i class="material-icons">settings</i></a>
    </div>

    <div id="nonprod-warning" class="modal">
      <div class="modal-content">
        <h4>Development Version</h4>
        <p><strong>Warning:</strong> this is a development version of TiddlyDrive. It may contain untested features. If you meant to go to the stable app, you can find it at <a href="https://tiddlydrive.github.io">https://tiddlydrive.github.io</a></p>
      </div>
      <div class="modal-footer">
        <a class="modal-action modal-close waves-effect waves-green btn-flat">Ok</a>
      </div>
    </div>

    <div id="dlg-warning" class="modal">
      <div class="modal-content">
        <h4 id="dlg-warning-title"></h4>
        <p id="dlg-warning-body"></p>
      </div>
      <div class="modal-footer">
        <a class="modal-action modal-close waves-effect waves-green btn-flat">Ok</a>
      </div>
    </div>

    <div id="settings" class="modal modal-fixed-footer">
      <div class="modal-content">
        <br style="display: block;line-height: 100px;">
  <h4 class="z-depth-1 floating-title">Tiddly Drive 2 Settings<br>
         <img src="https://img.shields.io/github/tag/tiddlydrive/development.svg" style="max-width:100%;" class="dev">
         <img src="https://img.shields.io/github/tag/tiddlydrive/tiddlydrive.github.io.svg" style="max-width:100%;" class="prod">
        </h4> 
        <h5 class="tooltipped legacy-mode" data-tooltip="Firefox doesn't currently support certain features">Legacy Mode <i class="material-icons">info outline</i></h5><i class="legacy-mode">(<a target="_blank" href="https://lordratte.gitlab.io/tiddlydrive/#which-browsers-are-supported">see official page</a>)</i>
        <p>
          <div class="row">
            <div class="col s12">
        <ul class="tabs"> <!-- Settings Tabs -->
                <li class="tab col s3"><a href="#options">Options</a></li>
                <li class="tab col s3"><a href="#about">About<i class="material-icons">info</i></a></li>
                <li class="tab col s3"><a href="#news">News</a></li>
              </ul>
            </div>
            <div id="options" class="col s12">
              <div class="container">
                <div class="row">
                  <div class="col s12">
                    <h5>Saving</h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col s12">
                    <input type="checkbox" id="enable-hotkey-save" checked="checked" />
                    <label for="enable-hotkey-save">Save with <i>Ctrl</i> + <i>s</i> <b>or</b> <i>Ctrl</i> + <i>Shift</i> + <i>s</i></label>
                  </div>
                </div>
                <div class="row">
                  <div class="col s12 tooltipped" data-position="bottom" data-delay="50" data-tooltip="Not recommended for large files">
                    <input type="checkbox" id="enable-autosave" checked="checked" />
                    <label for="enable-autosave">Enable autosave</label>
                  </div>
                </div>
                <div class="row">
                  <div class="col s12 tooltipped" data-position="bottom" data-delay="50" data-tooltip="Override the save-to-drive functionality and save normally">
                    <input type="checkbox" id="disable-save" checked="unchecked" />
                    <label for="disable-save">Use download saver</label>
                  </div>
                </div>
                <div class="row">
                  <div class="col s12">
                    <a class="waves-effect waves-light btn" id="save-now">Save Now</a>
                  </div>
                </div>
                <div class="row">
                  <div class="col s12">
                    <h5>Connection</h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col s12">
                    <a class="waves-effect waves-light btn" id="auth">Authenticate</a>
                    <label for="auth">(Use to renew authentication details)</label>
                  </div>
                </div>
              </div>
            </div>
            <div id="about" class="col s12">
              <p>Thanks for using Tiddly Drive. The project is open source and license can be found <a href="/LICENSE.md" target="_blank">here</a>. If you would like to contribute, the repository is <a href="https://github.com/tiddlydrive/tiddlydrive.github.io" target="_blank">here</a>.<br>
           Need help? <a href="https://lordratte.gitlab.io/tiddlydrive" target="_blank">Project Page</a>.<br><br>
    <div class="row">
        <div class="col s6">
      <a
      href="https://www.payfast.co.za/eng/process?cmd=_paynow&amp;receiver=11475231&amp;item_name=Donate+to+TiddlyDrive&amp;item_description=Any+donations+are+split+into+two+parts+for+quota+funding+and+development+costs+as+a+thanks.&amp;amount={amount}&amp;return_url={return}&amp;cancel_url={cancel}"
      target="_blank"
      class="waves-effect waves-light btn yellow darken-3"
         id="payfastlink"
      >
      Donate to Tiddly Drive
      <i class="material-icons left">thumb_up</i>
      </a>
        </div>
        <div class="input-field col s6">
              <input id="donate_amount"
        type="number"
        class="validate"
        min="5"
        value="20">
              <label for="donate_amount" class="active">Amount to donate (ZAR)</label>
        </div>

    </div>
    <div class="row">
        <div class="col s6">
      <a
      href="bitcoin:bc1qngde6nmse8ck7dxut7jfqcalpgscw7c8r5zk3u"
      >
      Contribute Some Bitcoin
      </a>
        </div>
    </div>
    <div class="row">
       <p><!--TODO: list of used software --></p>
       <p><!--https://github.com/danielquinn/bitcoin-donate --></p>
    </div>
    <!--<div class="row">
        <div class="col s6">
      <a
      href=""
      target="_blank"
      class="waves-effect waves-light btn amber darken-4"
      >
      Become a Patron
      <i class="material-icons left">card_membership</i>
      </a><br>
        </div>
    </div>-->

    <!--Direct donation via Bitcoin: 1KWgrQZM1mTrzoo6GKo1ijTbXPSWcaVRbY <i class="material-icons">favorite</i></p>-->
            </div>
            <div id="news" class="col s12">
              <div class="container" id="news_rows">
              </div>
            </div>
          </div>
        </p>
      </div>
      <div class="modal-footer">
    <a id="hide-fab" class="modal-action modal-close waves-effect waves-green btn-flat">Hide settings button until next reload</a>
        <a class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>
      </div>
    </div>
  <!-- Placeholder for toasts if Materialize not present -->
  <div id="toast-container" style="position:fixed;bottom:1rem;right:1rem;z-index:9999"></div>
  </body>
</html>
